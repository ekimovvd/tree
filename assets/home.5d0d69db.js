import{c as Q,f as k,j as p,a as S,h as w,b as A,g as U,m as I,q as L,K as B,B as R,C as V,D as m,L as y,G as u,F as f,Q as q,M as D,N as $,O as T,P as O,H as P,J as j,R as H,S as N,E as F,r as K,w as J}from"./index.21caa38b.js";var z=Q({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:i}}=U(),t=k(I,p);if(t===p)return console.error("QPage needs to be a deep child of QLayout"),p;if(k(L,p)===p)return console.error("QPage needs to be child of QPageContainer"),p;const v=S(()=>{const l=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const s=t.isContainer.value===!0?t.containerHeight.value:i.screen.height;return e.styleFn(l,s)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-l+"px":i.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":i.screen.height-l+"px"}}),_=S(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>w("main",{class:_.value,style:v.value},A(n.default))}});const d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function G(e,n=0){return(d[e[n+0]]+d[e[n+1]]+d[e[n+2]]+d[e[n+3]]+"-"+d[e[n+4]]+d[e[n+5]]+"-"+d[e[n+6]]+d[e[n+7]]+"-"+d[e[n+8]]+d[e[n+9]]+"-"+d[e[n+10]]+d[e[n+11]]+d[e[n+12]]+d[e[n+13]]+d[e[n+14]]+d[e[n+15]]).toLowerCase()}let E;const M=new Uint8Array(16);function W(){if(!E){if(typeof crypto=="undefined"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");E=crypto.getRandomValues.bind(crypto)}return E(M)}const X=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var b={randomUUID:X};function g(e,n,i){if(b.randomUUID&&!n&&!e)return b.randomUUID();e=e||{};const t=e.random||(e.rng||W)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,n){i=i||0;for(let c=0;c<16;++c)n[i+c]=t[c];return n}return G(t)}function Y(){return k(B)}const Z={class:"tree-node"},ee={key:0,class:"tree-node__children"},ne=R({name:"TreeNode",__name:"node",props:{node:{type:Object,required:!0}},emits:["add","edit","remove"],setup(e,{emit:n}){const i=e,t=n,c=()=>{t("add",i.node.id)},v=()=>{t("edit",i.node.id)},_=()=>{t("remove",i.node.id)};return(l,s)=>{const h=V("tree-node");return m(),y("div",Z,[u(q,{class:"tree-node__card"},{default:f(()=>[u(O,null,{default:f(()=>[P(j(e.node.name),1)]),_:1}),u(H,{align:"center"},{default:f(()=>[u(N,{icon:"edit",color:"green",onClick:v}),u(N,{icon:"delete",color:"red",onClick:_}),u(N,{icon:"add",color:"blue",onClick:c})]),_:1})]),_:1}),e.node.children&&e.node.children.length?(m(),y("div",ee,[(m(!0),y(D,null,$(e.node.children,C=>(m(),F(h,{key:C.id,node:C,onAdd:s[0]||(s[0]=o=>l.$emit("add",o)),onEdit:s[1]||(s[1]=o=>l.$emit("edit",o)),onRemove:s[2]||(s[2]=o=>l.$emit("remove",o))},null,8,["node"]))),128))])):T("",!0)])}}});const te={class:"tree-editor"},oe=R({name:"TreeEditor",__name:"editor",setup(e){const n=()=>{const o=localStorage.getItem("tree");return o?JSON.parse(o):[{id:g(),name:"First",children:[{id:g(),name:"Child of First",children:[]},{id:g(),name:"Another Child of First",children:[]}]},{id:g(),name:"Second",children:[]}]},i=Y(),t=K(n());J(t,o=>{localStorage.setItem("tree",JSON.stringify(o))},{deep:!0});const c=()=>{t.value.push({id:g(),name:"New Root",children:[]})},v=o=>{const a=h(o,t.value);a&&i.dialog({title:"Delete?",message:a.name,ok:{label:"DELETE",color:"blue"},cancel:{label:"CANCEL",color:"green"},persistent:!0}).onOk(()=>s(o)).onCancel(()=>console.log("Cancelled")).onDismiss(()=>console.log("Dialog dismissed"))},_=o=>{const a={id:g(),name:"New element",children:[]},r=h(o,t.value);r&&r.children.push(a)},l=o=>{const a=h(o,t.value);a&&i.dialog({title:"Edit Node",message:"Name",prompt:{model:a.name,type:"text"},ok:{label:"SAVE",color:"blue"},cancel:{label:"CANCEL",color:"blue"},persistent:!0}).onOk(r=>{a.name=r}).onCancel(()=>console.log("Edit cancelled"))},s=o=>{C(o,t.value)},h=(o,a)=>{for(const r of a){if(r.id===o)return r;const x=h(o,r.children);if(x)return x}},C=(o,a)=>{for(let r=0;r<a.length;r++){if(a[r].id===o)return a.splice(r,1),!0;if(C(o,a[r].children))return!0}return!1};return(o,a)=>(m(),y("div",te,[u(N,{color:"primary",icon:"add",class:"tree-editor__add",onClick:c}),(m(!0),y(D,null,$(t.value,r=>(m(),y("div",{key:r.id,class:"tree-editor__node"},[u(ne,{node:r,onAdd:_,onEdit:l,onRemove:v},null,8,["node"])]))),128))]))}}),de=R({name:"home",__name:"home",setup(e){return(n,i)=>(m(),F(z,{class:"row items-center justify-evenly"},{default:f(()=>[u(oe)]),_:1}))}});export{de as default};
